<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script type = "text/javascript" 
         src = "https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/jquery-ui.min.js">
      </script>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=National+Park:wght@200..800&display=swap" rel="stylesheet">
    <title>Document</title>
</head>
<body>
  
      <style>
        /* Estilos generales */
        /* Contenedor del formulario de contrase√±a */
        #passwordContainer {
          text-align: center;
          position: fixed;
          height: 100vh;
          width: 100%;
          background: white ;
          align-items: center;
          justify-self: center;
          align-content: center;
        }
        input[type="password"] {
          padding: 10px;
          font-size: 16px;
          margin-bottom: 10px;
          border: 1px solid #ccc;
          border-radius: 4px;
        }
        button {
          padding: 10px 20px;
          font-size: 16px;
          border: none;
          background: #3498db;
          color: #fff;
          border-radius: 4px;
          cursor: pointer;
        }
        button:hover {
          background: #2980b9;
        }
      </style>
        <style>
            header{
                width: 100% !important;
                height: 150px;
                display: flex;
                justify-content: center;
                align-items: center;
            }
            body, div{
                box-sizing: border-box;
                width: 100%;
               
                margin: 0;
                font-family: "National Park", sans-serif;
            }
            body{
                height: 100vh;
            }
            h1{
                margin: 0 !important;
            }
    
            .container{
                display: flex;
                flex-direction: column;
                width: 100%;
                overflow-x: scroll;
            }
            .container_h{
                width: 100%;
                display: flex;
                flex-direction: row;
                align-items: center;
                justify-content: center;
            }
            .card{
                width: 200px;
                height: 200px;
                border: 2px black !important;
                border-radius: 5px;
                margin: 15px;
                box-shadow: 0 0 20px rgb(200, 200, 200);
                background-image: url("DyN.png");
    background-size: cover;
    background-position: center;
    cursor: pointer;
    transition: background-image 0.3s ease;
            }
            #info{
                overflow-y: scroll;
                width: 100%;
                height: 100vh;
                position: fixed;
                top: 0;
                justify-content: center;
                align-items: center;
                display: flex;
                flex-direction: column;
                left: 0;
                background: rgba(0, 0, 0, 0.943);
            }

            #intro{
                overflow-y: scroll;
                width: 100%;
                height: 100vh;
                position: fixed;
                top: 0;
                justify-content: center;
                align-items: center;
                display: flex;
                flex-direction: column;
                left: 0;
                background: rgba(0, 0, 0, 0.943);
            }
            .info_imgs{
                flex: 1;
                display: flex;
                width: 100%;
                max-width: 600px;
                justify-content: center;
            }
            .white{
                color: white;
            }
            img{
                margin: 10px;
                height: 50%;
                width: 40% !important;
                border-radius: 2px;
                border: 2px solid white;
            }
        </style>

    <!-- Formulario para ingresar la contrase√±a -->
  <div id="passwordContainer">
    <h2>Ingresa la contrase√±a</h2>
    <input type="password" id="passwordInput" placeholder="Contrase√±a">
    <br>
    <button id="enterBtn">Entrar</button>
    <p id="errorMsg" style="color:red; display:none;">Contrase√±a incorrecta</p>
  </div>
  

    <header>
        <div style="text-align: center; width: 100%;">
        <h1 style="margin-bottom: 0px; margin-top: 0;">D+N Memoria</h1>
        <h2 style="margin-bottom: 0px; margin-top: 0;">Nivel <span id="nivel"></span></h2>
        <h3 style="margin-bottom: 0px; margin-top: 0;">Te amoo! ‚ù§Ô∏è</h3>
        </div>
    </header>
    <div class="container">
        <div class="container_h">
            <div class="card"></div>
            <div class="card"></div>
            <div class="card"></div>
        </div>
        <div class="container_h">
            <div class="card"></div>
            <div class="card"></div>
            <div class="card"></div>
        </div>
        <div class="container_h">
            <div class="card"></div>
            <div class="card"></div>
            <div class="card"></div>
        </div>
    </div>

    <div id="info" style="display: none; padding: 20px;">
        
        <div style="display: flex; height: 100vh !important; align-items: center; justify-content: center;">
            <div style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
                <h1 id="mensaje" style="margin-bottom: 20px !important; color: white">Mensaje!</h1>  
                <div class="info_imgs">
                    <img src="IMG_0560.jpeg"/>
                    <img src="IMG_0560.jpeg"/>
                </div>
                <h2 style="text-align: center;" class="white">Me recuerda a ...</h2>
                <button style="border: 2px solid white;     padding: 10px; border-radius: 5px; background-color: green;">
                    <h3 style="margin: 0 !important; color: white;">CONTINUAR</h3>
                </button>
            </div>
            
        </div>
        
    </div>

    <div id="intro" style="display: none; padding: 20px;">
        
        <div style="display: flex; height: 100vh !important; align-items: center; justify-content: center;">
            <div style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
                <h1 id="mensaje" style="margin-bottom: 20px !important; color: white">Un peque√±o jueguito de memoria...</h1> 
                <div class="info_imgs">
                    <img src="DyN.png"/>
                </div>
                <h2 class="white" style="text-align: center;">Para recordar todos los buenos momentos que hemos pasado juntos estos 5 meses...
                <br>Para que la acompa√±es con las salsas rom√°nticas que recopil√© pensando en ti, y que nunca te pase...<br> espero la guardes yo ver√© ü§®</h5><br>
                <button  onclick="window.open('https://open.spotify.com/playlist/7AGmsNJLyln006U7CxO48u?si=588d2ff1c2e34e29','_blank')" style="border: 2px solid white;     padding: 10px; border-radius: 5px; background-color: green;">
                    <h3 style="margin: 0 !important; color: white;">PLAYLIST SALSITA ROM√ÅNTICA</h3>
                </button>
                <button onclick="$('#intro').fadeOut(500)" style="border: 2px solid white;     padding: 10px; border-radius: 5px; background-color: rgb(179, 0, 24);">
                    <h3 style="margin: 0 !important; color: white;">CONTINUAR</h3>
                </button>
            </div>
            
        </div>
        
    </div>

    <script>

        // Al cargar el documento se configura el evento click con jQuery
    $(document).ready(function(){
      $("#enterBtn").click(function(){
        var password = $("#passwordInput").val();
        if(password === "5MesesDeAmor!"){
            $('#passwordContainer').fadeOut()
            $('#intro').fadeIn(500)
            start()
        } else {
          $("#errorMsg").fadeIn();
        }
      });
    });

let modoTest = false; // Cambia a true para activar el modo test


        const niveles = [
            //nivel 1
    {
        photos: [
            ["0_a.jpeg", "0_a.jpeg"], // salitre magico
            ["1_c.jpeg", "1_c.jpeg"], // motel
            ["5_a.jpeg", "5_a.jpeg"], // primera cita
            ["12_b.jpeg", "12_b.jpeg"], // monfe
            ["7_b.jpeg", "7_b.jpeg"], // andreita evento
            ["9_a.jpeg", "9_a.jpeg"], // cumple 4 abril
        ],
        legends: [
            "El d√≠a m√°s especial ü•π con el amor de mi vida! <br> Oficialmente novios, hace 5 meses ‚ù§Ô∏è!!<br> Todav√≠a es muy loco pensar <br>que soy novio del hombre m√°s incre√≠ble del universo",
            "Jejeje no puedo olvidar lo mucho que me sorprendiste ü•π ese d√≠a!<br>Y lo incre√≠blemente mucho que me encantas üòè<br>Pa cuando repetimos?",
            "Te juro que tu saco era negro JAJAJAJA<br>La primera vez de todas ü•π, donde todo esto inicio",
            "Me acuerdo y pienso lo rom√°ntico que eres Nicol√°s!<br>Desde la Monfe, el rooftop y hasta en mi casa, simplemente insuperable",
            "La primera vez que te present√© con amigos, no llevabas nada en Colombia<br>Y ya estaba tan orgulloso de salir contigo!<br>La primera que present√© a un hombre como mi pareja ü•π",
            "Awww! Que buen spot!<br>Siempre haciendome sentir en el cielo, adem√°s de consentirme en el dia de mi cumple<br>igual hiciste otra celebraci√≥n que fue la m√°s tierna y mejor que pude tener ü•π"
        ],
        grid_x: 4,
        grid_y: 3,
    },

      //nivel 2
      {
        photos: [
            ["0_a.jpeg", "0_b.jpeg"], // salitre magico
            ["1_c.jpeg", "1_b.jpg"], // motel
            ["5_a.jpeg", "5_b.jpeg"], // primera cita
            ["12_b.jpeg", "12_a.jpeg"], // monfe
            ["7_a.jpeg", "7_b.jpeg"], // andreita evento
            ["9_a.jpeg", "9_b.jpeg"], // cumple 4 abril
        ],
        legends: [
            "Como no, ayyyy los carritos chocones<br>Estaba tan nervioso, tu quer√≠as ir directo a la rueda<br>Pero no te dej√© porque necesitaba un poco m√°s de tiempo de preparaci√≥n para pedirte el cuadre ü•π",
            "Ese d√≠a tambi√©n te regal√© el reemplazo del primer earcuff jaja<br>Estaba viendo cual era el que m√°s se parec√≠a al original JAJAJ<br>Acepto que esta estaba muy complejo que lo relacionaras",
            "El cafecito, luego del helado! y de donde salimos y tuvimos nuestro primer beso<br>Mk estoy llorando de la felicidad mientras hago esto, te amo mucho",
            "¬øEn que lugar?: En el cielo! ‚ù§Ô∏è<br>Eyy pero buena memoria que te acordar√°s que en la monfe era el cuadro",
            "Esa vez de Andre, esa era la parte de atr√°s fue donde nos tomamos foticos<br>All√≠ nos tomamos una foto en la que tu me est√°s dando un beso, y es tan tierna ü•π",
            "Jejeje el regalito de esa noche!<br>Me parecioo muy tierno<br>Adem√°s no se como hiciste pero me encanta la fragancia"
        ],
        grid_x: 4,
        grid_y: 3,
    },

    // nivel 3
      {
        photos: [
            ["0_a.jpeg", "0_b.jpeg"], // salitre magico
            ["1_c.jpeg", "1_b.jpg"], // motel
            ["5_a.jpeg", "5_b.jpeg"], // primera cita
            ["12_b.jpeg", "12_a.jpeg"], // monfe
            ["7_a.jpeg", "7_b.jpeg"], // andreita evento
            ["9_a.jpeg", "9_b.jpeg"], // cumple 4 abril

            ["2_a.jpeg", "2_b.jpeg"], // thea
            ["3_a.jpeg", "3_b.jpeg"], // blue suites
            ["4_a.jpeg", "4_b.jpeg"], // spotty 
            ["10_a.jpeg", "11_b.jpeg"], // relaja
            ["8_a.jpg", "8_b.jpg"], // chiva
            ["10_b.PNG", "11_a.jpeg"], // llegada

        ],
        legends: [
            "Tengo tantos recuerdos de esa noche<br>Pero nunca olvidar√© cuando me dijiste: Si!<br>Yo ten√≠a planeado que al momento que volteabas el mini cuadro, te dec√≠a ¬øQuieres ser mi novio? mientras lo le√≠as<br>Pero no alcanc√© porque tu inmediatamente dijiste que SII y ahi entend√≠ que todo hab√≠a valido la pena",
            "Fue un 15 tan hermoso, de veras recuerdo lo especial que me sent√≠<br>Me llevaste a Vitto me regalaste la pulserita y me diste una noche inolvidable,<br>contigo se lo que es amor de verdad, que va desde lo m√°s tierno rom√°ntico que nace cuando nos vemos hasta lo m√°s loco y apasionado cuando no podemos aguantarnos las ganas",
            "La pinta y Varietale, solo me qued√≥ faltando la fotico en los helados.<br>Desde el primer d√≠a, fui tan feliz contigo!! ",
            "¬øEn que lugar?: En el cielo! ‚ù§Ô∏è<br>Solo me pude sentir aun m√°s en el cielo cuando llegamos a mi apto!!",
            "Esa vez de Andre, esa era la parte de atr√°s fue donde nos tomamos foticos<br>All√≠ nos tomamos una foto en la que tu me est√°s dando un beso, ‚ù§Ô∏è y es tan tierna ü•π",
            "La noche que me enter√© que he desaprovechado los mejores masajes de la vida.. üòã<br>sobre todo porque tiene final feliz incluido JAJAJA üòÆ‚Äçüí®",
            "JAJAJAJA perd√≥n ten√≠a que ponerlo üòÇ, la primera vez que salimos a rumbear!<br>Y como no, tambi√©n tu primer streaptease jajsjsj",
            "Fui tan feliz contigo! Pero sin joder hablar de todo mientras tomamos vino en la tina, es insuperable.<br>Como puedo pasarla tan bien contigo! es que no entiendo, es demasiado ‚ù§Ô∏è",
            "Recuerdas que nos llovi√≥? Jejej pero igual nos metimos a el \"jacuzzy\" que no prendia jajaj üòÇ<br>am√© estar contigo all√°, como siempre sorprendiendome ü•π",
            "Lo dije en la carta y lo repito: el √∫nico man que es capaz de verse mejor que Christian Bale en el disfraz de Patrick Bateman ü•µ<br>Que gran rumba, la pas√© tan incre√≠ble, am√© nuestras hachas matcheando ",
            "Jajaja amo esa foto tuya, me encanta cuando salimos juntos!!<br>Esa chiva estuvo muy buena<br>... pero mas bueno tu ü•µ",
            "La primera vez que te quedaste conmigo, en serio no lo voy a olvidar nunca<br>Pasar contigo toda la noche, dormir arrunchaditos, ba√±arnos.. ü•π<br>Para mi fue un sue√±o hecho realidad<br>Estar contigo en fisico y comprobar que no solo me encantaba hablar contigo sino lo mucho que me atraes f√≠sicamente. Estaba tan seguro que te quer√≠a como mi novio! ‚ù§Ô∏è"
        ],
        grid_x: 4,
        grid_y: 6,
    },

    // nivel 4
];

let nivel_actual = 0;
let indiceParejas = [];
let parejasEncontradas = 0;
let totalParejas = 0;
let firstCard = null;
let blockClick = false;


function obtenerIndicePareja(img1, img2) {
    const nivel = niveles[nivel_actual];
    for (let i = 0; i < nivel.photos.length; i++) {
        const par = nivel.photos[i];
        if (par.includes(img1) && par.includes(img2)) {
            return i;
        }
    }
    return -1;
}


        function set_all(){

        }

        function start() {
        $("#nivel").text(nivel_actual + 1);
        generarLayout(nivel_actual);
    }


function setImage(cuadroId, imageUrl, mostrar = true) {
    const $cuadro = $(`#${cuadroId}`);
    if (mostrar) {
        $cuadro.css("background-image", `url(${imageUrl})`);
    } else {
        $cuadro.css("background-image", `url(DyN.png)`);
    }
}

function generarLayout(nivelIndex) {
    const nivel = niveles[nivelIndex];
    const { photos, grid_x, grid_y } = nivel;
    const flatPhotos = photos.flat();

    const totalCuadros = grid_x * grid_y;
    totalParejas = flatPhotos.length / 2;
    parejasEncontradas = 0;

    const indices = Array.from({ length: totalCuadros }, (_, i) => i);
    const desorganizado = [...indices].sort(() => Math.random() - 0.5);
    indiceParejas = desorganizado.map(i => i);

    const container = $(".container");
    container.empty();

    for (let y = 0; y < grid_y; y++) {
        const row = $('<div class="container_h"></div>');
        for (let x = 0; x < grid_x; x++) {
            const index = y * grid_x + x;
            const cuadroId = `cuadro-${index}`;
            const card = $(`<div class="card" id="${cuadroId}" data-pos="${index}"></div>`);

            // SIEMPRE asignamos evento
            card.on("click", function () {
                if (!$(this).hasClass("descubierta")) {
                    manejarClick(this);
                }
            });

            row.append(card);
        }
        container.append(row);
    }

    // Mostrar im√°genes
    desorganizado.forEach((realIdx, posIdx) => {
        const img = flatPhotos[realIdx];
        setImage(`cuadro-${posIdx}`, img, true);
    });

    // Si NO es test, ocultarlas luego
    if (!modoTest) {
        setTimeout(() => {
            $(".card").each(function () {
                const pos = $(this).data("pos");
                const realIdx = indiceParejas[pos];
                const img = flatPhotos[realIdx];
                setImage($(this).attr("id"), img, false);
            });
        }, 2000);
    }
}

function mostrarInfo(imagen1, imagen2, leyenda) {
    $("#info").fadeIn();
    $(".info_imgs").html(`
        <img src="${imagen1}"/>
        <img src="${imagen2}"/>
    `);
    $("#mensaje").text("Congrats!!");
    $(".white").html(leyenda || "Me recuerda a...");
}

function sonPareja(img1, img2) {
    const nivel = niveles[nivel_actual];
    return nivel.photos.some(par => par.includes(img1) && par.includes(img2));
}

function manejarClick(cuadro) {
    if (blockClick) return;

    const pos = parseInt($(cuadro).data("pos"));
    const realIndex = indiceParejas[pos];
    const nivel = niveles[nivel_actual];
    const image = nivel.photos.flat()[realIndex];


    // Mostrar imagen
    setImage($(cuadro).attr("id"), image, true);
    $(cuadro).addClass("descubierta");

    if (!firstCard) {
        firstCard = { cuadro, pos, image, realIndex };
    } else {
        blockClick = true;

        if (sonPareja(firstCard.image, image) && firstCard.pos !== pos) {
            // Desactivar clics
            $(cuadro).off("click");
            $(firstCard.cuadro).off("click");

            // Mostrar info
            const parejaIndex = obtenerIndicePareja(firstCard.image, image);
const leyenda = niveles[nivel_actual].legends[parejaIndex] || "";
            mostrarInfo(firstCard.image, image, leyenda);

            $("#info button").one("click", function () {
                $("#info").fadeOut();
                parejasEncontradas++;
                firstCard = null;
                blockClick = false;

                if (parejasEncontradas === totalParejas) {
                    nivel_actual++;
                    if (nivel_actual < niveles.length) {
                        
                        if (nivel_actual == 1){
                            alert("Epaaa üéâ!! Ahora vamos a probar tu memoria fotogr√°fica, las parejas de fotos estan relacionadas pero no son las misma, ya sea porque paso en el mismo d√≠a o porque est√°n relacionadas. Espero te diviertas y te de tanta emoci√≥n como a mi mientras hac√≠a este peque√±o jueguito! ü•π‚ù§Ô∏è");
                        }
                        if (nivel_actual == 2){
                            alert("Nos fuimos con todo!! ");
                        }
                        setTimeout(() => start(), 500);
                    } else {
                        alert("Felices 5 meses de boyfriends!! üéâ Lo lograste mi amor!! Espero te haya distraido un poco de la fiebre jeje! Y que hayas recordado algunos momentos especiales que hemos pasado juntos. Se que para nosotros este d√≠a es mega importante, y aunque se que no pudimos estar juntos presencialmente me alegra poder haber hecho algo que nos permita celebrar la linda relaci√≥n que tenemos. Soy inmensamente feliz que soy por ser tu novio!! Te amo como no tienes idea!!<br>Si quieres volver a ver la imagenes sin jugar solo presiona la tecla \"T\" cuando las cartas esten volteadas!");
                    }
                }
            });

        } else {
            // No es pareja
            setTimeout(() => {
                setImage($(cuadro).attr("id"), image, false);
                setImage($(firstCard.cuadro).attr("id"), firstCard.image, false);
                $(cuadro).removeClass("descubierta");
                $(firstCard.cuadro).removeClass("descubierta");
                firstCard = null;
                blockClick = false;
            }, 1000);
        }
    }
}


        



$(document).on("keydown", function (e) {
    if (e.key.toLowerCase() === "t") {
        modoTest = !modoTest;
        alert("Modo visible " + (modoTest ? "activado ‚úÖ" : "desactivado ‚ùå"));
       
        start(); // Reinicia nivel

    }
});


    </script>
    
</body>
</html>